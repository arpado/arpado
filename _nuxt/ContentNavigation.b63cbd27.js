import{u as v}from"./asyncData.e0e1cfd6.js";import{f as g,q as m,l as p,m as c,p as f,s as y,_ as h,r as P,t as C,v as l,S as d,h as S,x as w,y as x,z as $,A as j,i as N,k as r}from"./entry.55b76d27.js";import{_ as T}from"./nuxt-link.0cf74bfb.js";/* empty css                      */const b=async a=>{const{content:t}=g().public;typeof(a==null?void 0:a.params)!="function"&&(a=m(a));const e=a.params(),s=t.experimental.stripQueryParameters?p(`/navigation/${`${c(e)}.${t.integrity}`}/${f(e)}.json`):p(`/navigation/${c(e)}.${t.integrity}.json`);if(y())return(await h(()=>import("./client-db.c5ae6bcb.js"),["./client-db.c5ae6bcb.js","./entry.55b76d27.js","./entry.a889dc62.css"],import.meta.url).then(o=>o.generateNavigation))(e);const n=await $fetch(s,{method:"GET",responseType:"json",params:t.experimental.stripQueryParameters?void 0:{_params:P(e),previewToken:C().getPreviewToken()}});if(typeof n=="string"&&n.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return n};l.registerPlugin(d);l.registerPlugin(d);const L=S({name:"ContentNavigation",props:{query:{type:Object,required:!1,default:void 0}},async setup(a){const{query:t}=w(a),e=x(()=>{var n;return typeof((n=t.value)==null?void 0:n.params)=="function"?t.value.params():t.value});if(!e.value&&$("dd-navigation").value){const{navigation:n}=j();return{navigation:n}}const{data:s}=await v(`content-navigation-${c(e.value)}`,()=>b(e.value));return{navigation:s}},render(a){const t=N(),{navigation:e}=a,s=o=>r(T,{to:o._path},()=>o.title),n=(o,_)=>r("ul",_?{"data-level":_}:null,o.map(i=>i.children?r("li",null,[s(i),n(i.children,_+1)]):r("li",null,s(i)))),u=o=>n(o,0);return t!=null&&t.default?t.default({navigation:e,...this.$attrs}):u(e)}});export{L as default};
